# План: Создание теста для проверки подключения к Notion API

## Задача
Создать тест, который проверяет получение данных пользователя Notion через API с использованием токена из переменной окружения.

## Шаги выполнения

### 1. Обновить requirements.txt
**Файл:** `requirements.txt`
**Изменения:** Добавить `pytest==7.4.3`

### 2. Создать директорию tests
**Действие:** Создать папку `tests/`

### 3. Создать tests/__init__.py
**Файл:** `tests/__init__.py`
**Содержимое:** Пустой файл (для инициализации пакета)

### 4. Создать tests/test_notion_api.py
**Файл:** `tests/test_notion_api.py`
**Содержимое:**
- Импорт os, pytest
- Функция get_notion_client() для получения клиента с токеном из NOTION_TEST_TOKEN
- Тест test_notion_get_user_data() с декоратором @pytest.mark.skipif
- Тест вызывает client.client.users.me() и проверяет что ответ не None

## Как использовать после реализации

```bash
# Установить зависимости
pip install -r requirements.txt

# Установить токен
export NOTION_TEST_TOKEN="secret_..."

# Запустить тест
pytest tests/test_notion_api.py -v
```

## Проверка работоспособности
- Тест должен пропускаться, если NOTION_TEST_TOKEN не установлен
- Тест должен проходить успешно при валидном токене
- Тест должен падать при невалидном токене (ошибка авторизации)
